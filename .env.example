# =============================================================================
# OMOP Quality Dashboard Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your environment
# NEVER commit the actual .env file to version control

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database type: postgresql, sqlserver, sqlite
OMOP_DB_TYPE=postgresql

# Database connection details
OMOP_DB_HOST=localhost
OMOP_DB_PORT=5432
OMOP_DB_NAME=omop_cdm
OMOP_DB_USER=omop_user
OMOP_DB_PASSWORD=your_secure_password_here

# Alternative: Complete database connection string (overrides individual settings above)
# OMOP_DB_CONNECTION_STRING=postgresql://user:password@localhost:5432/omop_cdm

# =============================================================================
# DASHBOARD CONFIGURATION  
# =============================================================================

# Dashboard server settings
DASHBOARD_DEBUG=false
DASHBOARD_HOST=localhost
DASHBOARD_PORT=8501
DASHBOARD_TITLE=OMOP Quality Dashboard
DASHBOARD_SUBTITLE=Comprehensive Data Quality Monitoring

# Dashboard features
DASHBOARD_ENABLE_CACHING=true
DASHBOARD_CACHE_TTL=300
DASHBOARD_MAX_QUERY_RESULTS=1000
DASHBOARD_AUTO_REFRESH=false

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Security (for future authentication features)
SECRET_KEY=your_super_secret_key_change_this_in_production_minimum_32_chars
SESSION_TIMEOUT=3600
ENABLE_AUTHENTICATION=false

# API settings (for future API endpoints)
API_RATE_LIMIT=100
API_RATE_LIMIT_PERIOD=3600

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Logging settings
LOG_LEVEL=INFO
LOG_FILE=logs/omop_dashboard.log
LOG_MAX_SIZE=10485760
LOG_BACKUP_COUNT=5
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Enable/disable specific loggers
LOG_DATABASE_QUERIES=false
LOG_QUALITY_CHECKS=true
LOG_USER_ACTIONS=true

# =============================================================================
# QUALITY CHECK CONFIGURATION
# =============================================================================

# Completeness check thresholds (percentages)
COMPLETENESS_WARNING_THRESHOLD=10
COMPLETENESS_FAIL_THRESHOLD=25
COMPLETENESS_PERSON_PASS_THRESHOLD=90

# Temporal check settings
TEMPORAL_MAX_AGE=120
TEMPORAL_MIN_BIRTH_YEAR=1900
TEMPORAL_FUTURE_DATE_TOLERANCE=0

# Concept mapping thresholds (percentages)
CONCEPT_UNMAPPED_WARNING=5
CONCEPT_UNMAPPED_FAIL=15
CONCEPT_STANDARD_THRESHOLD=80

# Referential integrity settings (record counts)
REFERENTIAL_ORPHAN_WARNING=100
REFERENTIAL_ORPHAN_FAIL=1000

# Statistical outlier settings (record counts)
STATISTICAL_OUTLIER_WARNING=10
STATISTICAL_OUTLIER_FAIL=50

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Database connection pool
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_RECYCLE=3600

# Query timeouts (seconds)
DB_QUERY_TIMEOUT=300
DB_CONNECTION_TIMEOUT=30

# Memory limits
MAX_MEMORY_MB=2048
MAX_DATAFRAME_ROWS=100000

# =============================================================================
# DEPLOYMENT SETTINGS
# =============================================================================

# Environment type: development, staging, production
ENVIRONMENT=development

# Docker settings
CONTAINER_NAME=omop-quality-dashboard
CONTAINER_PORT=8501

# Build information (for Docker builds)
BUILD_DATE=2024-01-01T00:00:00Z
VCS_REF=main
VERSION=1.0.0

# =============================================================================
# OPTIONAL FEATURES
# =============================================================================

# Caching (Redis)
ENABLE_REDIS_CACHE=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Email notifications (future feature)
ENABLE_EMAIL_ALERTS=false
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
ALERT_EMAIL_RECIPIENTS=admin@yourorg.com,data-team@yourorg.com
ALERT_EMAIL_SUBJECT_PREFIX=[OMOP Dashboard Alert]

# Monitoring and metrics
ENABLE_METRICS=false
METRICS_PORT=8502
HEALTH_CHECK_ENDPOINT=/health

# External monitoring services
SENTRY_DSN=
PROMETHEUS_GATEWAY=

# =============================================================================
# ORGANIZATION SETTINGS
# =============================================================================

# Organization-specific settings
ORGANIZATION_NAME=Your Healthcare Organization
ORGANIZATION_LOGO_URL=
CONTACT_EMAIL=support@yourorg.com
DOCUMENTATION_URL=https://your-docs.com

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development mode settings (only for development environment)
DEV_MODE=true
DEV_AUTO_RELOAD=true
DEV_SHOW_DEBUG_INFO=true
DEV_MOCK_DATA=false

# Sample data settings
SAMPLE_DATA_SIZE=1000
SAMPLE_DATA_SEED=42

# =============================================================================
# INTEGRATION SETTINGS
# =============================================================================

# External OHDSI tools integration
ATLAS_URL=
ACHILLES_URL=
WHITE_RABBIT_URL=
