# Environment variables for OMOP Quality Dashboard
# Copy this file from .env.example and customize for your environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database type: postgresql, sqlserver, sqlite
OMOP_DB_TYPE=postgresql

# Database connection details
OMOP_DB_HOST=localhost
OMOP_DB_PORT=5432
OMOP_DB_NAME=omop_cdm
OMOP_DB_USER=omop_user
OMOP_DB_PASSWORD=your_secure_password_here

# Alternative: Database connection string (overrides individual settings)
# OMOP_DB_CONNECTION_STRING=postgresql://user:password@localhost:5432/omop_cdm

# =============================================================================
# DASHBOARD CONFIGURATION  
# =============================================================================

# Dashboard settings
DASHBOARD_DEBUG=false
DASHBOARD_HOST=localhost
DASHBOARD_PORT=8501
DASHBOARD_TITLE=OMOP Quality Dashboard
DASHBOARD_SUBTITLE=Comprehensive Data Quality Monitoring

# Dashboard features
DASHBOARD_ENABLE_CACHING=true
DASHBOARD_CACHE_TTL=300
DASHBOARD_MAX_QUERY_RESULTS=1000

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Security (for future authentication features)
SECRET_KEY=your_super_secret_key_change_this_in_production
SESSION_TIMEOUT=3600
ENABLE_AUTHENTICATION=false

# API settings (for future API endpoints)
API_RATE_LIMIT=100
API_RATE_LIMIT_PERIOD=3600

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Logging settings
LOG_LEVEL=INFO
LOG_FILE=logs/omop_dashboard.log
LOG_MAX_SIZE=10485760
LOG_BACKUP_COUNT=5
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Enable/disable specific loggers
LOG_DATABASE_QUERIES=false
LOG_QUALITY_CHECKS=true
LOG_USER_ACTIONS=true

# =============================================================================
# QUALITY CHECK CONFIGURATION
# =============================================================================

# Completeness check thresholds
COMPLETENESS_WARNING_THRESHOLD=10
COMPLETENESS_FAIL_THRESHOLD=25
COMPLETENESS_PERSON_PASS_THRESHOLD=90

# Temporal check settings
TEMPORAL_MAX_AGE=120
TEMPORAL_MIN_BIRTH_YEAR=1900
TEMPORAL_FUTURE_DATE_TOLERANCE=0

# Concept mapping thresholds
CONCEPT_UNMAPPED_WARNING=5
CONCEPT_UNMAPPED_FAIL=15
CONCEPT_STANDARD_THRESHOLD=80

# Referential integrity settings
REFERENTIAL_ORPHAN_WARNING=100
REFERENTIAL_ORPHAN_FAIL=1000

# Statistical outlier settings
STATISTICAL_OUTLIER_WARNING=10
STATISTICAL_OUTLIER_FAIL=50

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Database connection pool
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_RECYCLE=3600

# Query timeouts (seconds)
DB_QUERY_TIMEOUT=300
DB_CONNECTION_TIMEOUT=30

# Memory limits
MAX_MEMORY_MB=2048
MAX_DATAFRAME_ROWS=100000

# =============================================================================
# MONITORING AND METRICS
# =============================================================================

# Application monitoring
ENABLE_METRICS=true
METRICS_PORT=8502
HEALTH_CHECK_ENDPOINT=/health

# External monitoring services
SENTRY_DSN=
NEW_RELIC_LICENSE_KEY=
DATADOG_API_KEY=

# =============================================================================
# EMAIL NOTIFICATIONS (Future feature)
# =============================================================================

# Email server settings
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=
SMTP_PASSWORD=

# Notification settings
ENABLE_EMAIL_ALERTS=false
ALERT_EMAIL_RECIPIENTS=admin@yourorg.com,data-team@yourorg.com
ALERT_EMAIL_SUBJECT_PREFIX=[OMOP Dashboard Alert]

# =============================================================================
# DEPLOYMENT SETTINGS
# =============================================================================

# Environment type
ENVIRONMENT=development
# Options: development, staging, production

# Docker settings
CONTAINER_NAME=omop-quality-dashboard
CONTAINER_PORT=8501

# Kubernetes settings (for k8s deployment)
K8S_NAMESPACE=omop-dashboard
K8S_SERVICE_NAME=omop-dashboard-service

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development mode settings
DEV_MODE=true
DEV_AUTO_RELOAD=true
DEV_SHOW_DEBUG_INFO=true
DEV_MOCK_DATA=false

# Sample data settings
SAMPLE_DATA_SIZE=1000
SAMPLE_DATA_SEED=42

# =============================================================================
# BACKUP AND EXPORT SETTINGS
# =============================================================================

# Export settings
EXPORT_MAX_ROWS=50000
EXPORT_FORMATS=csv,excel,pdf
EXPORT_PATH=exports/

# Backup settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=backups/

# =============================================================================
# INTEGRATION SETTINGS
# =============================================================================

# External system integrations
ATLAS_URL=
ACHILLES_URL=
WHITE_RABBIT_URL=

# Data lineage
ENABLE_DATA_LINEAGE=false
LINEAGE_TRACKING_LEVEL=table

# =============================================================================
# CUSTOM SETTINGS
# =============================================================================

# Organization-specific settings
ORGANIZATION_NAME=Your Healthcare Organization
ORGANIZATION_LOGO_URL=
CONTACT_EMAIL=support@yourorg.com
DOCUMENTATION_URL=

# Custom quality rules
CUSTOM_RULES_ENABLED=false
CUSTOM_RULES_CONFIG_PATH=config/custom_rules.yaml

# Reporting settings
ENABLE_SCHEDULED_REPORTS=false
REPORT_SCHEDULE=0 8 * * 1  # Weekly on Monday at 8 AM
REPORT_RECIPIENTS=

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable specific features
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_REAL_TIME_MONITORING=false
FEATURE_PREDICTIVE_QUALITY=false
FEATURE_DATA_PROFILING=true
FEATURE_ANOMALY_DETECTION=false
FEATURE_COLLABORATIVE_ANNOTATION=false

# Experimental features
EXPERIMENTAL_ML_OUTLIERS=false
EXPERIMENTAL_GRAPH_ANALYSIS=false
EXPERIMENTAL_NATURAL_LANGUAGE_QUERIES=false
